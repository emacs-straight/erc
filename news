ERC NEWS

Copyright (C) 2006-2026 Free Software Foundation, Inc.
See the end of the file for license conditions.

Please send ERC bug reports to 'bug-gnu-emacs@gnu.org',
and Cc the 'emacs-erc@gnu.org' mailing list as well.
If possible, use 'M-x erc-bug' or 'M-x report-emacs-bug'.

This file is about changes in ERC, the powerful, modular, and
extensible IRC (Internet Relay Chat) client distributed with
GNU Emacs since Emacs version 22.1.


* Changes in ERC 5.6.2

** Changes in the library API.

*** Accessors like 'erc-channel-user-voice' may ignore assignments.
ERC now silently ignores attempts to enable certain status flags on
'erc-channel-user' objects if the connection's "PREFIX" parameter omits
them.  In the future, ERC will likely signal an error if such an attempt
is made.  Users can preview this potentially disruptive behavior by
setting the new variable 'erc-channel-user-signal-if-status-unknown' to
t.  This change stems from a bug fix for a regression affecting ERC 5.6
and 5.6.1 in which these accessors mishandled unsupported flags.


* Changes in ERC 5.6.1

** Option 'erc-truncate-padding-size' controls truncation frequency.
In fast-moving channels and in queries with long-winded bots, the
'truncate' module has historically been asked to work overtime, mostly
on account of a rather stingy buffering threshold of 512 characters.
Now configurable, its default has been relaxed eightfold to 4096.

** Option 'erc-modules' no longer autoloaded.
This cornerstone of ERC's configuration system was autoloaded globally
in 5.6 to allow users the freedom of running 'customize-option' without
first having to load the package.  Unfortunately, this also had the side
effect of arranging for ERC to load on startup whenever someone
customized the variable.

** New option determines 'keep-place-indicator's influence on 'truncate'.
Option 'erc-keep-place-indicator-truncation' manages the tension between
truncation and place keeping, prioritizing one or the other.

** Stray key binding removed from 'erc-fill-wrap-mode-map'.
The command 'erc-fill-wrap-cycle-visual-movement' was mistakenly given
the key binding "C-c a" in an inadvertent holdover from development.  It
has been removed.

** The 'fill-wrap' module no longer depends on 'scrolltobottom'.
This change also affects the option 'erc-fill-function' when it's set to
'erc-fill-wrap'.

** Updated defaults for the 'track' module's face-list options.
The default values of options 'erc-track-faces-priority-list' and
'erc-track-faces-normal-list' have both gained a face for buttonized
speaker names, with the latter option also gaining 'erc-notice-face'.
This was done to provide a more frequent and practical indication of
channel activity in keeping with the module's original design.

** Command 'erc-track-clear' resets the mode-line activity indicator.
Clear ERC's mode-line area with a single stroke, effectively marking all
ERC buffers as having been read.

** An arguably less distracting 'erc-nicks-track-faces' variant.
Setting this option to t tells the 'track' module to have the mode-line
indicator stick with the most recent speaker's face, even when they're
the only speaker, instead of alternating between it and the highest
ranked 'erc-track-faces-normal-list' member in a given message.

** Module 'querypoll' has left 'goodies' and moved in with 'notify'.
The 'querypoll' module was initially placed in 'erc-goodies' even though
a far more sensible home existed in 'erc-notify'.  Given the similarity
of concerns and the newer module's "experimental" status, the migration
was deemed worth any potential disruption, despite this being a point
release.  ERC appreciates your understanding in this matter.

** Option 'erc-server-reconnect-function' has a new default.
ERC 5.6 added 'erc-server-delayed-check-reconnect', whose "probing"
strategy worked better for most users.  While compatibility concerns
prevented it from becoming the new 'erc-server-reconnect-function'
outright, a new solution has emerged that defers to it when sensible.
...
...
